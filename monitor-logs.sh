#!/bin/bash

echo "======================================================================"
echo "              实时监控MCP工具调用日志"
echo "======================================================================"
echo
echo "这个脚本将帮助你同时监控控制台和日志文件的输出"
echo
echo "使用方法："
echo "1. 在一个终端窗口运行应用: mvn spring-boot:run"
echo "2. 在另一个终端窗口运行这个脚本: ./monitor-logs.sh"
echo "3. 在第三个终端窗口调用API接口"
echo
echo "======================================================================"

# 检查日志文件是否存在
if [ ! -f "logs/mcp-tool-analysis.log" ]; then
    echo "日志文件不存在，正在创建..."
    mkdir -p logs
    touch logs/mcp-tool-analysis.log_bak
fi

echo "开始实时监控日志文件: logs/mcp-tool-analysis.log"
echo "======================================================================"
echo "注意：同时观察运行应用的控制台窗口，你会看到相同的日志输出"
echo "======================================================================"
echo
echo "日志监控开始..."
echo

# 实时监控日志文件
tail -f logs/mcp-tool-analysis.log_bak